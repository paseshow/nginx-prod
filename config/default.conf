server {
    client_max_body_size 5M;

    server_name services.paseshow.com.ar;

	location / {
	        proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/;
	}

	location /api-report/ {
	        proxy_pass http://reprote-api.eba-5hjvcrt8.us-west-2.elasticbeanstalk.com/;
	}

	location /permissions/ {
		resolver 8.8.8.8 ipv6=off;
	        proxy_set_header Upgrade $http_upgrade;
	        proxy_set_header Host $http_host;
	        proxy_set_header X-Real-IP $remote_addr;
	        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	        proxy_set_header X-Forwarded-Proto $scheme;
	        proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/;
	}
	
	###### CONFIG CACHE -----------------------------------------------------------------------
		location /permissions/ms-evento/ventas {
	        	resolver 8.8.8.8 ipv6=off;
				proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

	        	proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/ms-evento/ventas;

            	proxy_cache_valid 200 5m;
            	proxy_set_header       Host $host;
            	expires 5m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
            	add_header X-Proxy-Cache $upstream_cache_status;
        }

		location /permissions/ms-evento/eventoes/list/predio {
	        	resolver 8.8.8.8 ipv6=off;
				proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

	        	proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/ms-evento/eventoes/list/predio;

            	proxy_cache_valid 200 1m;
            	proxy_set_header       Host $host;
            	expires 3m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
            	add_header X-Proxy-Cache $upstream_cache_status;
        }

		location /permissions/ms-evento/eventoes/list/web {
	        	resolver 8.8.8.8 ipv6=off;
				proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

	        	proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/ms-evento/eventoes/list/web;

            	proxy_cache_valid 200 1m;
            	proxy_set_header       Host $host;
            	expires 3m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
            	add_header X-Proxy-Cache $upstream_cache_status;
        }

        location /permissions/sliders {
	        resolver 8.8.8.8 ipv6=off;
		proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

	        proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/sliders;

            	proxy_cache_valid 200 1m;
            	proxy_set_header       Host $host;
            	expires 2m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
            	add_header X-Proxy-Cache $upstream_cache_status;
        }

        location /permissions/ms-evento/eventoes/list {
	        resolver 8.8.8.8 ipv6=off;
            	proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

            	proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/ms-evento/eventoes/list;
            	proxy_cache_valid 200 1m;
            	proxy_set_header       Host $host;
            	expires 2m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
	        add_header X-Proxy-Cache $upstream_cache_status;
        }
         location /permissions/ms-s3/static/provincias {
         	resolver 8.8.8.8 ipv6=off;
            	proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

            	proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/ms-s3/static/provincias;
            	proxy_cache_valid 200 1m;
            	proxy_set_header       Host $host;
            	expires 20m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
            	add_header X-Proxy-Cache $upstream_cache_status;
        }

        location /permissions/auth/loggedUser {
        	resolver 8.8.8.8 ipv6=off;
            	proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

            	proxy_pass http://a88d6fa9f31d44ca4ad6c59f7d49a70f-1798392071.us-west-2.elb.amazonaws.com/auth/loggedUser;
            	proxy_cache_valid 200 1m;
            	proxy_set_header       Host $host;
            	expires 5m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
            	add_header X-Proxy-Cache $upstream_cache_status;
        }
        
        location /api-report/appusers/role {
        	resolver 8.8.8.8 ipv6=off;
	     	proxy_set_header Host $http_host;
            	proxy_set_header X-Real-IP $remote_addr;
            	proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            	proxy_set_header X-Forwarded-Proto $scheme;

            	proxy_pass http://reprote-api.eba-5hjvcrt8.us-west-2.elasticbeanstalk.com/appusers/role;
            	proxy_cache_valid 200 2m;
            	proxy_set_header       Host $host;
            	expires 5m;
            	proxy_cache_use_stale  error timeout invalid_header updating
                                   http_500 http_502 http_503 http_504;
            	add_header X-Proxy-Cache $upstream_cache_status;
	}

	location /ms-evento/ {
        resolver 8.8.8.8 ipv6=off;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_pass http://a2b7c20cf42cc4bc7922c524327e18e4-93220651.us-west-2.elb.amazonaws.com/;
    }

    location /paseshow-payments-split/ {
        resolver 8.8.8.8 ipv6=off;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_pass http://a02f0e9d6329344c3b1d5506a32f856e-586445088.us-west-2.elb.amazonaws.com/build/;
    }

    location /paseshow-payments-split/paseshow-payments/ {
        resolver 8.8.8.8 ipv6=off;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_pass http://a02f0e9d6329344c3b1d5506a32f856e-586445088.us-west-2.elb.amazonaws.com/build/;
    }

    location /ms-payments-split/ {
        resolver 8.8.8.8 ipv6=off;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_pass http://a1eefbbf58e2044b5b91acd8ffdb9897-2060627445.us-west-2.elb.amazonaws.com/;
    }
}
